[gd_scene format=3 uid="uid://cls0jt3mur20d"]

[ext_resource type="Script" uid="uid://ctei22gsnlir7" path="res://scene/scene.gd" id="1_gdysa"]
[ext_resource type="Resource" uid="uid://2cortp4gdr02" path="res://dialogues/test.dialogue" id="2_1r6qv"]
[ext_resource type="Script" uid="uid://p7l04gqivt5o" path="res://scene/paralax.gd" id="3_sph0w"]
[ext_resource type="Texture2D" uid="uid://bh6hyvub5qy6d" path="res://assets/art/Bg/Bg.png" id="4_icohi"]
[ext_resource type="Script" uid="uid://cc8gml86q5spy" path="res://scene/paralax_element.gd" id="5_heanp"]
[ext_resource type="Texture2D" uid="uid://cans3071hsxjc" path="res://assets/art/Bg/Parallax3.png" id="6_aghbd"]
[ext_resource type="Texture2D" uid="uid://ic5xb2uss3gb" path="res://assets/art/Bg/Parallax2.png" id="7_xfsd8"]
[ext_resource type="Shader" uid="uid://dt0evrxpvmsyd" path="res://shader/glitch.gdshader" id="8_w56dn"]
[ext_resource type="Script" uid="uid://ci6m2ki24vw3s" path="res://scene/character.gd" id="9_8y11t"]
[ext_resource type="Texture2D" uid="uid://bpv8ao1lhnc5q" path="res://assets/art/M/M.png" id="10_3exy7"]
[ext_resource type="Texture2D" uid="uid://6lhux7flko3v" path="res://assets/art/M/Halo.png" id="11_rcd6w"]
[ext_resource type="Texture2D" uid="uid://dgrlrnre71ny6" path="res://assets/art/Expressions/Безумство/Безумство_брови.png" id="12_675xw"]
[ext_resource type="Texture2D" uid="uid://cp3cgnre7htip" path="res://assets/art/Expressions/Безумство/Безумство_око.png" id="13_mru4o"]
[ext_resource type="Script" uid="uid://bh5heoauo7b86" path="res://scene/eye_clipping.gd" id="14_nq4lw"]
[ext_resource type="Texture2D" uid="uid://cwj1xlqsdw4al" path="res://assets/art/Expressions/Безумство/Безумство_рот.png" id="15_6ehie"]
[ext_resource type="Script" uid="uid://ct01x7ed8e86f" path="res://scene/mouth.gd" id="16_mtui7"]
[ext_resource type="Texture2D" uid="uid://rddhm280qcc0" path="res://assets/art/Expressions/Відчай/Відчай_брови_сльози.png" id="17_ge8ol"]
[ext_resource type="Texture2D" uid="uid://wg11aysneehc" path="res://assets/art/Expressions/Відчай/Відчай_око.png" id="18_x3pkx"]
[ext_resource type="Texture2D" uid="uid://b0i5524oiq35a" path="res://assets/art/Expressions/Відчай/Відчай_рот.png" id="19_8axeu"]
[ext_resource type="Texture2D" uid="uid://ujvmnxvf8vm" path="res://assets/art/Expressions/Дезорієнтація/Дезорієнтація_брови.png" id="20_gytjb"]
[ext_resource type="Texture2D" uid="uid://clwj5fsxrdlnl" path="res://assets/art/Expressions/Дезорієнтація/Дезорієнтація_око.png" id="21_ljsf8"]
[ext_resource type="Texture2D" uid="uid://cr1sna4vew3cp" path="res://assets/art/Expressions/Дезорієнтація/Дезорієнтація_рот.png" id="22_4w0sr"]
[ext_resource type="Texture2D" uid="uid://cdgqby7mb4hsq" path="res://assets/art/Expressions/Жах/Жах_брови.png" id="23_1po6f"]
[ext_resource type="Texture2D" uid="uid://d03mdny7l8n52" path="res://assets/art/Expressions/Жах/Жах_око.png" id="24_q5c3r"]
[ext_resource type="Texture2D" uid="uid://uunf0yr88prt" path="res://assets/art/Expressions/Жах/Жах_рот.png" id="25_5ciwv"]
[ext_resource type="Texture2D" uid="uid://dw0f61jvqnble" path="res://assets/art/Expressions/Здивування/Здивування_брови.png" id="26_tj0x2"]
[ext_resource type="Texture2D" uid="uid://cqw7dyo56uslk" path="res://assets/art/Expressions/Здивування/Здивування_око.png" id="27_vxr65"]
[ext_resource type="Texture2D" uid="uid://ccnyxmjidl8tj" path="res://assets/art/Expressions/Здивування/Здивування_рот.png" id="28_cb668"]
[ext_resource type="Texture2D" uid="uid://cmftni10aq5dq" path="res://assets/art/Expressions/Ненависть/Ненависть_брови.png" id="29_tmmf2"]
[ext_resource type="Texture2D" uid="uid://doxacsgx5gouu" path="res://assets/art/Expressions/Ненависть/Ненависть_око.png" id="30_finp1"]
[ext_resource type="Texture2D" uid="uid://ck0rlsdikbr8" path="res://assets/art/Expressions/Ненависть/Ненависть_рот.png" id="31_8dato"]
[ext_resource type="Texture2D" uid="uid://conitmx7xdr4q" path="res://assets/art/Expressions/Спокій/Спокій_брови.png" id="32_p2p3b"]
[ext_resource type="Texture2D" uid="uid://banl0sp6xp0sc" path="res://assets/art/Expressions/Спокій/Спокій_око.png" id="33_6s3q4"]
[ext_resource type="Texture2D" uid="uid://falibmub04pr" path="res://assets/art/Expressions/Страх/Страх_брови.png" id="34_l7fsi"]
[ext_resource type="Texture2D" uid="uid://dq51d68ngtva7" path="res://assets/art/Expressions/Страх/Страх_піт.png" id="35_k27m5"]
[ext_resource type="Texture2D" uid="uid://c00vg42i7md4v" path="res://assets/art/Expressions/Страх/Страх_око.png" id="36_3a43g"]
[ext_resource type="Texture2D" uid="uid://cexslqty04vwr" path="res://assets/art/Expressions/Страх/Страх_рот.png" id="37_dw7st"]
[ext_resource type="Texture2D" uid="uid://bm8xsixi3gopg" path="res://assets/art/Expressions/Тривога/Тривога_брови.png" id="38_n7aim"]
[ext_resource type="Texture2D" uid="uid://b3f1fxpnn2ctg" path="res://assets/art/Expressions/Тривога/Тривога_око.png" id="39_0p7f0"]
[ext_resource type="Texture2D" uid="uid://dls5cep6bcfm8" path="res://assets/art/Expressions/Тривога/Тривога_рот.png" id="40_8at5c"]
[ext_resource type="Texture2D" uid="uid://dwde6f22l0wbk" path="res://assets/art/Bg/Parallax1.png" id="41_84ob2"]
[ext_resource type="Texture2D" uid="uid://bhv7ajkjt18cl" path="res://assets/ui/Infinity.png" id="42_hm48a"]
[ext_resource type="FontFile" uid="uid://mvladdbbon44" path="res://fonts/Monoid-Regular.ttf" id="43_hqfij"]
[ext_resource type="Script" uid="uid://cctodchq5fljs" path="res://scene/count_down_label.gd" id="44_1mgfr"]
[ext_resource type="FontFile" uid="uid://x7tknxtmsptg" path="res://fonts/ua-BRAND-regular.otf" id="45_1wbwe"]
[ext_resource type="Script" uid="uid://cyvj3k0g74df8" path="res://scene/glitch.gd" id="46_mbwnk"]
[ext_resource type="Script" uid="uid://nuhxfeli6vmt" path="res://scene/periodic_glitch_screen.gd" id="47_0uxjk"]
[ext_resource type="PackedScene" uid="uid://bsdtgo3t73ukn" path="res://ui/button.tscn" id="48_icohi"]
[ext_resource type="Script" uid="uid://dw7ljx4jbajkc" path="res://scene/camera_container.gd" id="48_mg3uq"]
[ext_resource type="Script" uid="uid://dljko1xr2k5mc" path="res://scene/camera.gd" id="52_heanp"]
[ext_resource type="AudioStream" uid="uid://dbladcvucv646" path="res://music/ambience.ogg" id="53_aghbd"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yj5sn"]
shader = ExtResource("8_w56dn")
shader_parameter/shake_power = 0.03
shader_parameter/shake_rate = 0.2
shader_parameter/shake_speed = 5.0
shader_parameter/shake_block_size = 30.5
shader_parameter/shake_color_rate = 0.01

[sub_resource type="ShaderMaterial" id="ShaderMaterial_jtbqm"]
shader = ExtResource("8_w56dn")
shader_parameter/shake_power = 0.01
shader_parameter/shake_rate = 1.0
shader_parameter/shake_speed = 1.0
shader_parameter/shake_block_size = 30.5
shader_parameter/shake_color_rate = 0.01

[sub_resource type="Curve" id="Curve_heanp"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[node name="Scene" type="Node2D" unique_id=432003006]
script = ExtResource("1_gdysa")
dialog_resource = ExtResource("2_1r6qv")

[node name="Container" type="Node2D" parent="." unique_id=1841037609 node_paths=PackedStringArray("controls")]
position = Vector2(640.1955, 360.11)
scale = Vector2(0.49984717, 0.4998472)
script = ExtResource("3_sph0w")
controls = [NodePath("Bg"), NodePath("Paralax3"), NodePath("Paralax2"), NodePath("Paralax1")]
maximum_movement = Vector2(100, 100)

[node name="Bg" type="Sprite2D" parent="Container" unique_id=1551750512]
position = Vector2(-0.39111325, -0.22006178)
scale = Vector2(1.0003058, 1.0003058)
texture = ExtResource("4_icohi")
script = ExtResource("5_heanp")
modifier = 0.1

[node name="Paralax3" type="Sprite2D" parent="Container" unique_id=466015332]
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("6_aghbd")
script = ExtResource("5_heanp")
modifier = 0.3

[node name="Paralax2" type="Sprite2D" parent="Container" unique_id=512517693]
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("7_xfsd8")
script = ExtResource("5_heanp")
modifier = 0.5

[node name="Character" type="Node2D" parent="Container" unique_id=80764947]
unique_name_in_owner = true
material = SubResource("ShaderMaterial_yj5sn")
position = Vector2(0, 41.792786)
scale = Vector2(1.8138651, 1.8138651)
script = ExtResource("9_8y11t")

[node name="Character" type="Sprite2D" parent="Container/Character" unique_id=1101198669]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("10_3exy7")

[node name="Halo" type="Sprite2D" parent="Container/Character" unique_id=2060872480]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("11_rcd6w")

[node name="Безумство" type="Node2D" parent="Container/Character" unique_id=965052676 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Безумство" unique_id=687855408]
scale = Vector2(0.45069444, 0.45069444)
texture = ExtResource("12_675xw")

[node name="Eye" type="Sprite2D" parent="Container/Character/Безумство" unique_id=1689882318]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("13_mru4o")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Безумство" unique_id=696390698]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("15_6ehie")
script = ExtResource("16_mtui7")

[node name="Відчай" type="Node2D" parent="Container/Character" unique_id=874165121 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Відчай" unique_id=511277029]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("17_ge8ol")

[node name="Eye" type="Sprite2D" parent="Container/Character/Відчай" unique_id=1429996911]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("18_x3pkx")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Відчай" unique_id=1773131999]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("19_8axeu")
script = ExtResource("16_mtui7")

[node name="Дезорієнтація" type="Node2D" parent="Container/Character" unique_id=551625163 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Дезорієнтація" unique_id=1700740912]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("20_gytjb")

[node name="Eye" type="Sprite2D" parent="Container/Character/Дезорієнтація" unique_id=846656374]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("21_ljsf8")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Дезорієнтація" unique_id=366206157]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("22_4w0sr")
script = ExtResource("16_mtui7")

[node name="Жах" type="Node2D" parent="Container/Character" unique_id=922200633 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Жах" unique_id=1711486596]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("23_1po6f")

[node name="Eye" type="Sprite2D" parent="Container/Character/Жах" unique_id=776265910]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("24_q5c3r")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Жах" unique_id=542206073]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("25_5ciwv")
script = ExtResource("16_mtui7")

[node name="Здивування" type="Node2D" parent="Container/Character" unique_id=443467288 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Здивування" unique_id=1805897964]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("26_tj0x2")

[node name="Eye" type="Sprite2D" parent="Container/Character/Здивування" unique_id=1279865762]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("27_vxr65")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Здивування" unique_id=1666131638]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("28_cb668")
script = ExtResource("16_mtui7")

[node name="Ненависть" type="Node2D" parent="Container/Character" unique_id=656078731 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Ненависть" unique_id=2096039825]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("29_tmmf2")

[node name="Eye" type="Sprite2D" parent="Container/Character/Ненависть" unique_id=1206817788]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("30_finp1")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Ненависть" unique_id=1704388066]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("31_8dato")
script = ExtResource("16_mtui7")

[node name="Спокій" type="Node2D" parent="Container/Character" unique_id=1266586019 groups=["character_state"]]

[node name="Base" type="Sprite2D" parent="Container/Character/Спокій" unique_id=1081251676]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("32_p2p3b")

[node name="Eye" type="Sprite2D" parent="Container/Character/Спокій" unique_id=1077649902]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("33_6s3q4")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Спокій" unique_id=1680741232]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("28_cb668")
script = ExtResource("16_mtui7")

[node name="Страх" type="Node2D" parent="Container/Character" unique_id=13713063 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Страх" unique_id=787602773]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("34_l7fsi")

[node name="Base2" type="Sprite2D" parent="Container/Character/Страх" unique_id=992186095]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("35_k27m5")

[node name="Eye" type="Sprite2D" parent="Container/Character/Страх" unique_id=1632665171]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("36_3a43g")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Страх" unique_id=1876122894]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("37_dw7st")
script = ExtResource("16_mtui7")

[node name="Тривога" type="Node2D" parent="Container/Character" unique_id=399603125 groups=["character_state"]]
visible = false

[node name="Base" type="Sprite2D" parent="Container/Character/Тривога" unique_id=1289050914]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("38_n7aim")

[node name="Eye" type="Sprite2D" parent="Container/Character/Тривога" unique_id=366051624]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("39_0p7f0")
script = ExtResource("14_nq4lw")

[node name="Mouth" type="Sprite2D" parent="Container/Character/Тривога" unique_id=229441464]
scale = Vector2(0.45069447, 0.45069447)
texture = ExtResource("40_8at5c")
script = ExtResource("16_mtui7")

[node name="Paralax1" type="Sprite2D" parent="Container" unique_id=1868561750]
scale = Vector2(1.0000001, 1.0000001)
texture = ExtResource("41_84ob2")
script = ExtResource("5_heanp")
modifier = 1.0

[node name="TimerLayer" type="CanvasLayer" parent="." unique_id=1025796226]
layer = 20

[node name="Timer" type="TextureRect" parent="TimerLayer" unique_id=1697951010]
visible = false
self_modulate = Color(1, 1, 1, 0.42745098)
anchors_preset = -1
anchor_left = 0.5
anchor_top = 0.17600001
anchor_right = 0.5
anchor_bottom = 0.17600001
offset_left = -147.0
offset_top = -136.72
offset_right = 146.33325
offset_bottom = 47.27999
grow_horizontal = 2
texture = ExtResource("42_hm48a")

[node name="TimerLabel" type="Label" parent="TimerLayer/Timer" unique_id=50162919]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_colors/font_color = Color(0.79607844, 0.6745098, 0.50980395, 1)
theme_override_fonts/font = ExtResource("43_hqfij")
theme_override_font_sizes/font_size = 52
text = "16:18"
horizontal_alignment = 1
vertical_alignment = 1
script = ExtResource("44_1mgfr")

[node name="FadeLayer" type="CanvasLayer" parent="." unique_id=1625393493]
layer = 201

[node name="WhiteFade" type="ColorRect" parent="FadeLayer" unique_id=1116491232]
unique_name_in_owner = true
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="BlackFade" type="ColorRect" parent="FadeLayer" unique_id=743151646]
unique_name_in_owner = true
modulate = Color(1, 1, 1, 0)
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="Label" type="Label" parent="FadeLayer/BlackFade" unique_id=751763804]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("45_1wbwe")
theme_override_font_sizes/font_size = 73
text = "Ви впевнені, що зробили
правильний вибір?"
horizontal_alignment = 1
vertical_alignment = 1

[node name="GlitchLayer" type="CanvasLayer" parent="." unique_id=1112943600]

[node name="GlitchScreen" type="Control" parent="GlitchLayer" unique_id=1649507234 node_paths=PackedStringArray("template")]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("46_mbwnk")
template = NodePath("ColorRect")

[node name="ColorRect" type="ColorRect" parent="GlitchLayer/GlitchScreen" unique_id=1632895954]
material = SubResource("ShaderMaterial_jtbqm")
layout_mode = 0
offset_left = -1160.7457
offset_top = -654.4199
offset_right = -1010.16785
offset_bottom = -617.4517

[node name="PeriodicGlitchScreen" type="Control" parent="GlitchLayer" unique_id=439937425 node_paths=PackedStringArray("template")]
unique_name_in_owner = true
visible = false
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("47_0uxjk")
template = NodePath("ColorRect")
amount_range = Vector2i(3, 4)
size_range = Vector2(0.05, 0.1)

[node name="ColorRect" type="ColorRect" parent="GlitchLayer/PeriodicGlitchScreen" unique_id=984327986]
material = SubResource("ShaderMaterial_jtbqm")
layout_mode = 0
offset_left = -1160.7457
offset_top = -654.4199
offset_right = -1010.16785
offset_bottom = -617.4517

[node name="CanvasLayer" type="CanvasLayer" parent="." unique_id=1548267021]
layer = 201

[node name="RestartButton" parent="CanvasLayer" unique_id=1404988261 instance=ExtResource("48_icohi")]
unique_name_in_owner = true
visible = false
anchors_preset = 1
anchor_left = 1.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 0.0
offset_left = -390.0
offset_top = 47.0
offset_right = -57.0
offset_bottom = 111.0
grow_horizontal = 0
grow_vertical = 1
text = "Перезапустити"

[node name="CameraContainer" type="Node2D" parent="." unique_id=1030541290]
position = Vector2(640, 360)
script = ExtResource("48_mg3uq")

[node name="Camera" type="Camera2D" parent="CameraContainer" unique_id=2013670795]
unique_name_in_owner = true
script = ExtResource("52_heanp")
curve = SubResource("Curve_heanp")

[node name="SoundPlayer" type="AudioStreamPlayer" parent="." unique_id=1367857849]
bus = &"Sound"

[node name="Ambience" type="AudioStreamPlayer" parent="." unique_id=793314561]
stream = ExtResource("53_aghbd")
autoplay = true
bus = &"Music"

[connection signal="pressed" from="CanvasLayer/RestartButton" to="." method="restart"]
